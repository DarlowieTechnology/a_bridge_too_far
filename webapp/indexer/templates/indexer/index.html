{% extends "base.html" %}

{% block headcontent %}
    <title>Indexer</title>
{% endblock %} 


{% block content %}

    <h1>Indexer App</h1>

    <div id="RAGSettingsDisplay">

        <div class="rowthreecolumns">
            <div class="column">
                Load document: <b> {{ loadDocument }} </b><br>
                <ul>
                    <li>Strip whitespace: <b> {{ stripWhiteSpace }} </b></li>
                    <li>Convert to lower case: <b> {{ convertToLower }} </b></li>
                    <li>Convert UTF to ASCII: <b> {{ convertToASCII }} </b></li>
                    <li>Replace separators by single spaces: <b> {{ singleSpaces }} </b></li>
                </ul>
            </div>
            <div class="column">
                Extract raw records:<b> {{ rawTextFromDocument }} </b><br>
                Create final JSON:<b> {{ finalJSONfromRaw }} </b><br>
                Prepare BM25s Corpus:<b> {{ prepareBM25corpus }} </b><br>
                Complete BM25s database:<b> {{ completeBM25database }} </b><br>
            </div>
            <div class="column">
                Create vector database:<b> {{ rawTextFromDocument }} </b><br>

            </div>
        </div>
    </div>
    <hr class="custom-hr">

    <form action="{% url 'indexer:process' %}" method="post">
        {% csrf_token %}
            
        {{ indexer }}
            
        <input type="submit" class="submitbutton" value="Process">
    </form>


    <script>
        
        function handleSelection() {

            try {
                val = document.querySelector('input[name="File Choices"]:checked').value;
                document.getElementById('id_inputFile').value = val
            } catch (error) {
               console.error(error.message);
            }


        }
    </script>

{% endblock %} 
